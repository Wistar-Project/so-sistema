# SIGT Sistema Informatico de Gestion de Torneos
# SIGTadmin : usuario administrador que ejecuta estos shellscripts
# solo tiene permiso sudooer sobre SIGT*

usr=usuario
usuario=$(yad --form \
  --title="Baja de usuario" \
  --width=400 \
  --height=200 \
  --center \
  --field="Nombre de usuario: " "$usr" )
  #--columns="3" \

# monitoreo de la variable total
echo $usuario

usr=$(echo $usuario | cut -f1 -d'|')

echo -e user : "\t\t\t" $usr

# ensamblado de orden userdel
# vud : variable userdel
vud='userdel -r '$usr
echo $vud # monitoreo
# intento de eliminacion efectiva del usuario (ejecuto la variable vud)
#$($vud)
$vud

if [ $? -eq 0 ]
then
  texto="<span weight=\"bold\" foreground=\"green\">Baja : </span> Usuario removido con Ã©xito"
  yad --title=" * BAJA de USUARIO * " \
    --image=gtk-info \
    --center \
    --width=340 \
    --height=80 \
    --text-align=center \
    --text="${texto}" \
    --button=Aceptar
else
  texto="<span weight=\"bold\" foreground=\"green\">Baja : </span> Ha ocurrido un error. No se ha podido remover el usuario"
  yad --title=" * BAJA de USUARIO * " \
    --image=gtk-info \
    --center \
    --width=340 \
    --height=80 \
    --text-align=center \
    --text="${texto}" \
    --button=Aceptar
fi
clear
